<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø°ÙƒÙŠ</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0f172a;
      color: white;
      padding: 20px;
    }
    h1 { text-align: center; }
    .card {
      background: #1e293b;
      margin: 15px 0;
      padding: 15px;
      border-radius: 12px;
    }
    button {
      background: #22c55e;
      border: none;
      color: black;
      padding: 10px 15px;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
      margin: 4px;
    }
    .danger { background: #ef4444; }
    .reward { background: #38bdf8; }
    .score {
      font-size: 32px;
      color: #facc15;
      text-align: center;
    }
    input {
      padding: 10px;
      border-radius: 10px;
      border: none;
      margin: 5px 0;
      width: 100%;
      font-size: 16px;
    }
  </style>
</head>

<body>

<!-- ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
<div id="loginPage" class="card">
  <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
  <select id="username">
    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø§Ø³Ù…</option>
    <option value="Ù…Ø­Ù…Ø¯ Ø§Ù„Ø®ÙŠØ±">Ù…Ø­Ù…Ø¯ Ø§Ù„Ø®ÙŠØ±</option>
    <option value="Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠØ§Ù†">Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠØ§Ù†</option>
  </select>
  <br><br>
  <button onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
</div>

<!-- Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ -->
<div id="mainPage" style="display:none">

<h1>ğŸ¯ Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ù‚Ø§Ø·</h1>
<div style="text-align:center; margin-bottom:10px;">
  <span id="currentUser"></span>
  <button onclick="logout()" class="danger">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
</div>

<div class="score" id="score">0 Ù†Ù‚Ø·Ø©</div>

<div class="card">
  <h2>âœ… Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ©</h2>
  <button onclick="add(25)">ÙƒÙ„ ØµÙ„Ø§Ø© (+25)</button>
  <button onclick="add(60)">Ø¬Ù„Ø³Ø© Ø¯Ø±Ø§Ø³Ø© (+60)</button>
  <button onclick="add(50)">Ø±ÙŠØ§Ø¶Ø© (+50)</button>
  <button onclick="add(150)">Ø¥Ù†Ø¬Ø§Ø² 80% (+150)</button>
  <button onclick="add(40)">Ø¯Ø±Ø§Ø³Ø© Ù…Ø³Ø§Ø¦ÙŠØ© (+40)</button>
  <button onclick="add(25)">Ù‚Ø±Ø§Ø¡Ø© 30 Ø¯Ù‚ÙŠÙ‚Ø© (+25)</button>
  <button onclick="add(20)">Ù…Ø±Ø§Ø¬Ø¹Ø© Ø³Ø±ÙŠØ¹Ø© (+20)</button>
  <button onclick="add(15)">ØªØ±ØªÙŠØ¨ Ø§Ù„ØºØ±ÙØ© (+15)</button>
  <button onclick="add(15)">ØºØ³Ù„ Ø§Ù„Ø£ÙˆØ§Ù†ÙŠ (+15)</button>
</div>

<div class="card">
  <h2>âŒ Ø§Ù„Ø¹Ø§Ø¯Ø§Øª Ø§Ù„Ø³ÙŠØ¦Ø©</h2>
  <button class="danger" onclick="add(-150)">Ù‡Ø§ØªÙ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¯Ø±Ø§Ø³Ø© (-150)</button>
  <button class="danger" onclick="add(-100)">ØªØ£Ø®ÙŠØ± Ø§Ù„ØµÙ„Ø§Ø© (-100)</button>
  <button class="danger" onclick="add(-100)">Ø±Ø§Ø­Ø© Ø·ÙˆÙŠÙ„Ø© (-100)</button>
  <button class="danger" onclick="add(-75)">Ù†ÙˆÙ… Ù…ØªØ£Ø®Ø± (-75)</button>
  <button class="danger" onclick="add(-60)">Ø¥Ù‡Ù…Ø§Ù„ Ø§Ù„ØªØ±ØªÙŠØ¨ (-60)</button>
  <button class="danger" onclick="add(-130)">Ø¹Ø§Ø¯Ø© Ø³ÙŠØ¦Ø© (-130)</button>
  <button class="danger" onclick="add(-70)">Ù…Ù…Ø§Ø·Ù„Ø© (-70)</button>
</div>

<div class="card">
  <h2>ğŸ Ù…ØªØ¬Ø± Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª</h2>
  <button class="reward" onclick="redeem(40)">15 Ø¯Ù‚ÙŠÙ‚Ø© Ù‡Ø§ØªÙ (-40)</button>
  <button class="reward" onclick="redeem(75)">30 Ø¯Ù‚ÙŠÙ‚Ø© Ù‡Ø§ØªÙ (-75)</button>
  <button class="reward" onclick="redeem(150)">Ø±Ø­Ù„Ø© Ù‚ØµÙŠØ±Ø© (-150)</button>
  <button class="reward" onclick="redeem(200)">ÙˆØ¬Ø¨Ø© Ø®Ø§Ø±Ø¬ÙŠØ© (-200)</button>
  <button class="reward" onclick="redeem(300)">Ù…Ø´Ø§Ù‡Ø¯Ø© ÙÙŠÙ„Ù… (-300)</button>
  <button class="reward" onclick="redeem(120)">Ù‚Ø±Ø§Ø¡Ø© ÙƒØªØ§Ø¨ (-120)</button>
</div>

</div>

<script>
  let score = 0;
  let user = "";

  function getKey() {
    return "score_" + user;
  }

  function update() {
    document.getElementById("score").innerText = score + " Ù†Ù‚Ø·Ø©";
    localStorage.setItem(getKey(), score);
  }

  function add(points) {
    score += points;
    update();
  }

  function redeem(cost) {
    if (score >= cost) {
      score -= cost;
      update();
      alert("âœ… ØªÙ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©");
    } else {
      alert("âŒ Ù†Ù‚Ø§Ø· ØºÙŠØ± ÙƒØ§ÙÙŠØ©");
    }
  }

  function login() {
    const selected = document.getElementById("username").value;
    if (!selected) {
      alert("Ø§Ø®ØªØ± Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…");
      return;
    }
    user = selected;
    localStorage.setItem("currentUser", user);

    document.getElementById("loginPage").style.display = "none";
    document.getElementById("mainPage").style.display = "block";
    document.getElementById("currentUser").innerText = "Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: " + user;

    score = parseInt(localStorage.getItem(getKey())) || 0;
    update();
  }

  function logout() {
    localStorage.removeItem("currentUser");
    location.reload();
  }

  window.onload = function() {
    const savedUser = localStorage.getItem("currentUser");
    if (savedUser) {
      user = savedUser;
      document.getElementById("loginPage").style.display = "none";
      document.getElementById("mainPage").style.display = "block";
      document.getElementById("currentUser").innerText = "Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: " + user;

      score = parseInt(localStorage.getItem(getKey())) || 0;
      update();
    }
  }
</script>

</body>
</html>
